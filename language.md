## 基本的な構文

### †おまじない†
main関数の中にプログラムを記述してください。
今のところ意味はありません。
```
fn main() {
    // プログラム本体
}
```

### 型
- `uint`
    - 符号なし整数です。
    Brainf*ckコード上では十進数で扱われます。
- `int`
    - 符号付整数です。
- `fixed`
    - 固定小数点数です。
- `char`
    - `0`-`255`の整数を扱えます。
- `bool`
    - 真理値型です。
    未定義動作が多いので使用非推奨です。

### 変数宣言
変数名には`A`-`Z`、`a`-`z`、`0`-`9`、`_`が利用可能です。
ただし、255文字以内で、先頭の文字は`0`-`9`以外である必要があります。

`uint`、`int`、`fixed`は宣言時に桁数の指定が必要です。
```
uint(3) a;      // 十進数3桁の符号なし整数aを宣言
fixed(5,7) b;   // 十進数、整数部5桁、小数部7桁の変数bを宣言
char c;
```
変数宣言はmain関数の一番浅い階層で行ってください。
if文の中などでの宣言は未定義動作です。
<!-- 
### 代入
以下に例を示します。
```
a = 10;
b = a;
``` 
-->

### 入力
`scan()`に変数を渡して入力を受け取ります。
受け取れる入力の形を正規表現で以下に示します。
- `uint`
    - `[0-9]+`
    - `0`-`9`からなる文字列を受け取れます。
- `int`
    - `-?[0-9]+`
    - `uint`で受け取れる文字列に加えて、先頭に`-`の付いた`0`-`9`からなる文字列を受け取れます。
- `fixed`
    - `-?[0-9]+\.[0-9]*`
    - 入力の文字列に小数点`.`を含む必要があります。
- `char`
    - `.`  
    - 1 Byte受け取ります。
- `bool`
    - 定義されていません。

変数で表現できる以上の桁数の入力を与えた場合の動作は未定義です。

### 出力
`print()`に変数を渡すことで変数の中身を出力できます。
`bool`に対しては定義されていません。

また、文字列リテラルを渡すことで文字列の出力ができます。
```
print("Hello, world!");
```
セミコロンの後は必ず改行してください。

### 算術演算子
- `+` addition
    - `uint`、`int`、`fixed`、`char`に対して定義されています。
- `-` subtraction
    - `uint`、`int`、`fixed`、`char`に対して定義されています。
- `*` multiplication
    - `uint`、`int`、`fixed`に対して定義されています。
- `/` division
    - `uint`、`int`、`fixed`に対して定義されています。
- `%` modulo
    - `uint`、`int`、`fixed`に対して定義されています。

### 比較演算子
- `==` equal to
- `!=` not equal to
- `<` less than
- `<=` less than or equal to
- `>` greater than
- `>=` greater than or equal to

### if文
以下に例を示します。
```
if (a == 10) {
    print("equal to 10");
}
```
else節も使用できます。
```
if (a < 20) {
    print("less than 20");
} else {
    print("greater than or equal to 20");
}
```

### while文
以下に例を示します。

```
count = 0;

while (count < 10) {
    count = count + 1;
}
```

### 型変換
異なる型同士の演算では、上位の型に変換されます。
型の序列は上位から、`fixed`、`int`、`uint`、`char`、`bool`です。
同じ型でも桁数が異なる場合は、大きい方の桁数に変換されます。

代入の場合は代入先の型に変換されます。

以下に例を示します。
```
uint(2) a; scan(a);
uint(3) b; scan(b);
uint(3) c;

// 加算はuint(3)で計算されます。
c = a + b;
```

```
uint(3) a; scan(a);
int(1) b; scan(b);
fixed(3,3) c;

// 加算はint(3)で計算され、結果はfixed(3,3)に変換されてcに代入されます。
c = a + b;
```

```
fixed(3,1) a; scan(a);
fixed(1,3) b; scan(b);
int(3) c;
uint(2) d;

// 加算はfixed(3,3)で計算され、小数部をゼロの方向へ切り捨てた値がcに代入されます。
c = a + b;

// cの絶対値をuint(2)に変換した値がdに代入されます。
d = c;
```
`char`から上位の型への変換にバグを含んでいます。変換先の型の整数部を3桁以上にすると動作が安定します。

また、明示的に型変換する構文は存在しません。

### リテラルと型
使用可能なリテラルの例と対応する型を示します。
- `[0-9]+`
    - `123`、`001`など
    - 桁数を`d`として`uint(d)`として扱われます。
    - leading zeroが許容されます。
- `'.'`
    - `'0'`、`'A'`など
    - `uint(3)`として扱われます。
    - 対応するASCIIコードを十進法で書いた場合と全く同じ扱いになります。例えば`'0'`と`048`は等価です。
- `[+-][0-9]+`
    - `+67`、`-096`など
    - 桁数を`d`として`int(d)`として扱われます。
- `[+-]'.'`
    - `+'0'`、`-'A'`など
    - `int(3)`として扱われます。
- `[+-]?[0-9]+\.[0-9]*`
    - `12.34`、`-0.05`など
    - 整数部の桁数を`id`、小数部の桁数を`fd`として`fixed(id,fd)`として扱われます。

### 予約語
`fn` `main` `if` `else` `while` `uint` `int` `fixed` `bool` `char` `scan` `print`

### コメント
`//`から改行までの文字はコメントとして扱われます。
